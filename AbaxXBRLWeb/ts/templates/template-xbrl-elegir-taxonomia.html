<section>
    <section class="vbox">
        <section class="scrollable wrapper" slimscroll="{size: '10px', height: 'auto'}" slimscrolllistento="resize::resize">
            <div class="m-b-md">
                <h3 class="m-b-none">{{'ETIQUETA_CREAR_DOCUMENTO_INSTANCIA_XBRL' | translate }}</h3>
            </div>
            <div class="row">
                <div class="col-sm-12">

                    <div class="panel panel-default">
                        <header class="panel-heading">
                            <ul class="nav nav-tabs font-bold">
                                <li><a href="javascript:void();" data-toggle="tab1">{{'ETIQUETA_DOCUMENTO_A_CREAR' | translate }}</a></li>
                                <li class="active"><a href="javascript:void();" data-toggle="tab2">{{'ETIQUETA_CARACTERISTICAS_TAXONOMIA' | translate}}</a></li>
                            </ul>
                        </header>

                        <form method="post" id="formaElegirTaxonomia" name="formaElegirTaxonomia">

                            <section class="panel-body">
                                <p>{{'ETIQUETA_INDICAR_ARCHIVO_TAXONOMIA_ENTRADA' | translate}}</p>
                                <div class="line line-lg"></div>

                                <div class="progress progress-xs m-t-md">
                                    <div class="progress-bar bg-success" style="width: 100%;"></div>
                                </div>
                                <div class="tab-content">
                                    <div class="row">
                                        <div class="form-group col-sm-6">
                                            <div class="input-group" ng-class="{ 'has-error' : formaElegirTaxonomia.urlEntryPoint.$invalid}" style="width: 100%">

                                                <div class="tab-pane active" id="step1">
                                                    <p>{{'ETIQUETA_INDICAR_URL_TAXONOMIA_ENTRADA' | translate}}</p> <input name="urlEntryPoint" id="urlEntryPoint" type="url" class="form-control" ng-model="urlEntryPoint" required />
                                                </div>
                                                <p class="help-block" ng-show="formaElegirTaxonomia.urlEntryPoint.$error.required">
                                                    {{'ETIQUETA_URL_REQUERIDA' | translate}}
                                                </p>
                                                <p class="help-block" ng-show="formaElegirTaxonomia.urlEntryPoint.$error.url">
                                                    {{'ETIQUETA_URL_INVALIDA' | translate}}
                                                </p>
                                            </div>
                                                <div>&nbsp;</div>
                                                <button class="btn btn-sm btn-default" id="validarArchivoBtn" type="button" ng-click="cargarTaxonomia()"
                                                        ng-disabled="formaElegirTaxonomia.urlEntryPoint.$error.required || formaElegirTaxonomia.urlEntryPoint.$error.url">
                                                    &nbsp;&nbsp;&nbsp;{{'ETIQUETA_CARGAR' |translate}}&nbsp;&nbsp;&nbsp;
                                                </button>
                                                &nbsp;&nbsp;&nbsp;
                                                <button class="btn btn-sm btn-default" type="button" ng-click="limpiar()">&nbsp;&nbsp;&nbsp;{{'ETIQUETA_FINALIZAR' | translate}}&nbsp;&nbsp;&nbsp;</button>
                                            </div> 
                                    </div>

             
                                    <div ng-if="cargaCompleta">

                                        <section class="panel panel-default" ng-if="!puedeContinuar">
                                            <header class="panel-heading">{{'ETIQUETA_RESULTADO_CARGA'| translate}}: <p class="text-danger">Con Errores</p></header>
                                            <table class="table table-striped m-b-none">
                                                <thead>
                                                    <tr>
                                                        <th>{{'ETIQUETA_ERROR' | translate}}</th>
                                                        <th>{{'ETIQUETA_SEVERIDAD' | translate}}</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr ng-repeat="error in erroresCarga">
                                                        <td>{{error.Mensaje}}</td>
                                                        <td>
                                                            <p class="text-danger" ng-if="error.Severidad == severidadError">{{'ETIQUETA_ERROR' | translate}}</p>
                                                            <p class="text-warning" ng-if="error.Severidad == severidadAdvertencia">{{'ETIQUETA_ADVERTENCIA'| translate}}</p>
                                                        </td>
                                                    </tr> 
                                                </tbody>
                                            </table>
                                        </section>
                                        <section class="panel panel-default" ng-if="puedeContinuar">
                                            <header class="panel-heading">{{'ETIQUETA_RESULTADO_CARGA' | translate}}: <p class="text-success">{{'ETIQUETA_CORRECTO' | translate}}</p></header>
                                            <table class="table table-striped m-b-none">
                                                <thead>
                                                    <tr>
                                                        <th>{{'ETIQUETA_ROLES_DESCUBIERTOS' | translate}}</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr ng-repeat="rol in taxonomiaCargada.RolesPresentacion">
                                                        <td>{{rol.Nombre}}</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </section>
                                    </div>

                                </div>
                            </section>
                            <footer class="panel-footer">
                                <ul class="pager wizard m-b-sm">
                                    <li class="previous"><a href="#/DocumentoInstancia/CrearDocumentoInstancia1">{{'ETIQUETA_ANTERIOR' | translate}}</a></li>
                                    <li class="next"><a href="javascript:void(0);" ng-if="puedeContinuar" ng-click="finalizar()">{{'ETIQUETA_FINALIZAR' | translate}}</a></li>
                                </ul>
                            </footer>
                        </form>

                    </div>
                </div>
            </div>
        </section>
    </section>
</section>